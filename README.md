# zlatov/sql (в разработке)
## Документация разработки
### Цели (требования) достигаемые пакетом

1. Работа с дампами базы данных из консоли

- Создавать дамп локальной базы
- Восстанавливать дам локальной базы
- Создавать дамп удаленной базы
- Восстанавливать дам удаленной базы
- Отправлять дамп на удаленный сервер
- Получать дамп с удаленного сервера

2. Осуществлять миграции бд описанные sql запросами

- В соответствии с текущей версией бд последовательно выполняются миграции, обновляется версия бд после выполнения каждой миграции. После выполения списка миграций осуществляется обновление процедур и триггеров

### Желаемые действия пользователя после установки пакета и поведение пакета в различных ситуациях
После установки пакета (composer require zlatov/sql[...]) в пользователю необходимо выполнить:
  - копирование <code>cp vendor/zlatov/sql/sql ./</code>
  - настройку <code>./config.sh</code>

1. БД не существует
2. БД существует

### Разработка файловой структуры
- sql.sh
- sql/
  - dump/
    - .gitignore
  - migration/
  - procedures/

### Разработка структуры бд

Версия БД хранится в таблице <var>sql</var>

### Разработка синтаксиса

- ./sql init

- ./sql dump
- ./sql dump filename

- ./sql push filename
- ./sql pull filename


